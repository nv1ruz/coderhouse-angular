(self.webpackChunkvideoclub_martinez=self.webpackChunkvideoclub_martinez||[]).push([[81],{1081:(t,i,e)=>{"use strict";e.r(i),e.d(i,{MoviesModule:()=>f});var o=e(8583),n=e(2271),r=e(7215),c=e(9491),a=e(3018),s=e(4341),d=e(438),p=e(7223),l=e(1400);function m(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"button",15),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().addMovie(i)}),a._uU(1," Agregar "),a.qZA()}}function v(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"button",16),a.NdJ("click",function(){a.CHM(t);const i=a.oxw().$implicit;return a.oxw().deleteMovie(i.id)}),a._uU(1," Quitar "),a.qZA()}}function u(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"div",4),a.TgZ(1,"div",5),a.TgZ(2,"div",6),a._UZ(3,"img",7),a.qZA(),a.TgZ(4,"div",8),a.TgZ(5,"p",9),a._uU(6),a.qZA(),a.TgZ(7,"p",10),a._uU(8),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"div",11),a.TgZ(10,"button",12),a.NdJ("click",function(){const i=a.CHM(t).$implicit;return a.oxw().goToDetail(i.id)}),a._uU(11," Detalle "),a.qZA(),a.YNc(12,m,2,0,"button",13),a.YNc(13,v,2,0,"button",14),a.qZA(),a.qZA()}if(2&t){const t=i.$implicit,e=a.oxw();a.xp6(3),a.Q6J("src",t.image,a.LSH)("alt",t.title),a.xp6(3),a.Oqu(t.title),a.xp6(2),a.hij("A\xf1o: ",t.year,""),a.xp6(4),a.Q6J("ngIf",!e.existMovieInCart(t.id)),a.xp6(1),a.Q6J("ngIf",e.existMovieInCart(t.id))}}function g(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(){a.CHM(t);const i=a.oxw(2);return i.addMovie(i.movie)}),a._uU(1," Agregar a carrito "),a.qZA()}}function b(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"button",21),a.NdJ("click",function(){a.CHM(t);const i=a.oxw(2);return i.deleteMovie(i.movie.id)}),a._uU(1," Quitar del carrito "),a.qZA()}}function h(t,i){if(1&t&&(a.ynx(0),a.YNc(1,g,2,0,"button",18),a.YNc(2,b,2,0,"button",19),a.BQk()),2&t){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",!t.existMovieInCart(t.movie.id)),a.xp6(1),a.Q6J("ngIf",t.existMovieInCart(t.movie.id))}}const _=[{path:"",component:(()=>{class t{constructor(t,i,e,o){this.store=t,this._moviesApi=i,this.router=e,this._cart=o,this.movies=[]}ngOnInit(){this.loadMovies()}ngOnDestroy(){this.moviesSubscription&&this.moviesSubscription.unsubscribe()}loadMovies(){this.moviesSubscription=this._moviesApi.getMovies().subscribe(t=>{t.ok&&(this.movies=t.data)})}goToDetail(t){this.router.navigateByUrl(`/movies/${t}`)}addMovie(t){this.store.dispatch((0,c.mS)({id:t.id,title:t.title,price:t.price})),this._cart.addProduct(t.id,t.title,t.price)}deleteMovie(t){this.store.dispatch((0,c.AE)({id:t})),this._cart.deleteProduct(t)}existMovieInCart(t){return this._cart.existProduct(t)}}return t.\u0275fac=function(i){return new(i||t)(a.Y36(s.yh),a.Y36(d.u),a.Y36(r.F0),a.Y36(p.N))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-movies-list"]],decls:4,vars:1,consts:[["title","Listado de peliculas"],[1,"main-page-container"],[1,"card-movie-container"],["class","card-movie",4,"ngFor","ngForOf"],[1,"card-movie"],[1,"card-movie-body"],[1,"card-movie-image-wrapper"],[1,"card-movie__image",3,"src","alt"],[1,"card-movie-data"],[1,"card-movie__name"],[1,"card-movie__description"],[1,"card-movie-footer"],["type","button",1,"btn-primary","w-100","mr-10",3,"click"],["type","button","class","btn-create w-100",3,"click",4,"ngIf"],["type","button","class","btn-delete w-100",3,"click",4,"ngIf"],["type","button",1,"btn-create","w-100",3,"click"],["type","button",1,"btn-delete","w-100",3,"click"]],template:function(t,i){1&t&&(a._UZ(0,"app-navbar",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.YNc(3,u,14,6,"div",3),a.qZA(),a.qZA()),2&t&&(a.xp6(3),a.Q6J("ngForOf",i.movies))},directives:[l.S,o.sg,o.O5],styles:[".card-movie-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding-bottom:10px}.card-movie[_ngcontent-%COMP%]{margin:10px;min-width:150px;border-radius:4px;box-shadow:0 4px 8px 0 #0000000f;overflow:hidden;transition:all .1s ease-in-out}.card-movie[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px 0 #0003}.card-movie-body[_ngcontent-%COMP%]{padding:10px;background-color:var(--card-body-bg)}.card-movie-image-wrapper[_ngcontent-%COMP%]{width:240px;height:340px;overflow:hidden;background-color:var(--bg-primary)}.card-movie__image[_ngcontent-%COMP%]{width:100%;height:100%}.card-movie__name[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;font-size:16px;font-weight:500;color:var(--txt-primary)}.card-movie__description[_ngcontent-%COMP%]{font-size:14px;color:var(--txt-primary);margin-bottom:5px;white-space:break-spaces}.card-movie-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;background-color:var(--card-footer-bg);border-top:1px solid var(--card-border)}@media (max-width: 576px){.card-movie-image-wrapper[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:100%}}"]}),t})()},{path:":movieId",component:(()=>{class t{constructor(t,i,e,o,n){this.store=t,this.route=i,this.router=e,this._moviesApi=o,this._cart=n,this.movieId=""}ngOnInit(){this.getParam()}ngOnDestroy(){this.paramSubscription&&this.paramSubscription.unsubscribe(),this.movieSubscription&&this.movieSubscription.unsubscribe()}getParam(){this.paramSubscription=this.route.paramMap.subscribe(t=>{this.movieId=t.get("movieId"),this.loadMovie()})}loadMovie(){this.store.select("movie").subscribe(t=>{this.movie=t.movie}),this.store.dispatch((0,c.pr)({id:this.movieId}))}goBack(){this.router.navigateByUrl("movies")}addMovie(t){this.store.dispatch((0,c.mS)({id:t.id,title:t.title,price:t.price})),this._cart.addProduct(t.id,t.title,t.price)}deleteMovie(t){this.store.dispatch((0,c.AE)({id:t})),this._cart.deleteProduct(t)}existMovieInCart(t){return this._cart.existProduct(t)}}return t.\u0275fac=function(i){return new(i||t)(a.Y36(s.yh),a.Y36(r.gz),a.Y36(r.F0),a.Y36(d.u),a.Y36(p.N))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-movie-detail"]],decls:27,vars:7,consts:[["title","Detalle de pelicula"],[1,"main-page-container"],[1,"movie"],[1,"movie-body","row"],[1,"col-12","col-md-4","p-10",2,"box-sizing","border-box"],[1,"movie-image-wrapper"],[1,"movie__image",3,"src","alt"],[1,"col-12","col-md-8","p-10",2,"box-sizing","border-box"],[1,"movie-data"],[1,"movie__title"],[1,"movie__year"],[1,"mb-10"],[1,"form-control-label"],[1,"movie__price"],["readonly","",1,"movie__description"],[1,"movie-footer"],["type","button",1,"btn-secondary","w-100","mr-10",3,"click"],[4,"ngIf"],["type","button","class","btn-create w-100",3,"click",4,"ngIf"],["type","button","class","btn-delete w-100",3,"click",4,"ngIf"],["type","button",1,"btn-create","w-100",3,"click"],["type","button",1,"btn-delete","w-100",3,"click"]],template:function(t,i){1&t&&(a._UZ(0,"app-navbar",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a._UZ(6,"img",6),a.qZA(),a.qZA(),a.TgZ(7,"div",7),a.TgZ(8,"div",8),a.TgZ(9,"p",9),a._uU(10),a.qZA(),a.TgZ(11,"p",10),a._uU(12),a.qZA(),a.qZA(),a.TgZ(13,"div",11),a.TgZ(14,"span",12),a._uU(15,"Precio"),a.qZA(),a.TgZ(16,"p",13),a._uU(17),a.qZA(),a.qZA(),a.TgZ(18,"div"),a.TgZ(19,"span",12),a._uU(20,"Descripci\xf3n"),a.qZA(),a.TgZ(21,"p",14),a._uU(22),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(23,"div",15),a.TgZ(24,"button",16),a.NdJ("click",function(){return i.goBack()}),a._uU(25," Volver atras "),a.qZA(),a.YNc(26,h,3,2,"ng-container",17),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(6),a.Q6J("src",null==i.movie?null:i.movie.image,a.LSH)("alt",null==i.movie?null:i.movie.title),a.xp6(4),a.Oqu(null==i.movie?null:i.movie.title),a.xp6(2),a.Oqu(null==i.movie?null:i.movie.year),a.xp6(5),a.hij("$",null==i.movie?null:i.movie.price,""),a.xp6(5),a.Oqu(null==i.movie?null:i.movie.description),a.xp6(4),a.Q6J("ngIf",i.movie))},directives:[l.S,o.O5],styles:[".movie[_ngcontent-%COMP%]{margin-top:10px;min-width:150px;border-radius:4px;box-shadow:0 4px 8px 0 #0000000f;overflow:hidden;transition:all .2s ease-in-out}.movie-body[_ngcontent-%COMP%]{padding:10px;background-color:var(--card-body-bg)}.movie-image-wrapper[_ngcontent-%COMP%]{max-width:290px;height:425px;overflow:hidden;background-color:#bebebe}.movie-data[_ngcontent-%COMP%]{margin-bottom:10px}.movie__image[_ngcontent-%COMP%]{width:100%;height:100%}.movie__title[_ngcontent-%COMP%]{font-size:26px;font-weight:600}.movie__title[_ngcontent-%COMP%], .movie__year[_ngcontent-%COMP%]{margin-bottom:5px;color:var(--txt-primary)}.movie__year[_ngcontent-%COMP%]{font-size:20px;white-space:break-spaces}.movie__price[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--txt-primary)}.movie__description[_ngcontent-%COMP%]{font-size:16px;color:var(--txt-secondary);width:100%;border:none}.movie-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;background-color:var(--card-footer-bg);border-top:1px solid var(--card-border)}"]}),t})()},{path:"",pathMatch:"full",redirectTo:""}];let x=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.Bz.forChild(_)],r.Bz]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.ez,x,n.m]]}),t})()}}]);